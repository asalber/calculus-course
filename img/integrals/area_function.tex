% Author: Alfredo SÃ¡nchez Alberca (asalber@ceu.es)
\begin{tikzpicture}[trim axis left, trim axis right]
  \begin{axis}[
    gen2dfun, 
    xmin=0, xmax=4,
    ymin=-2, ymax=3,
    xtick={1,3},
    xticklabels={$a$, $b$},
    ytick={},
    yticklabels={},
    clip=false, 
    height=3.5cm,
  	]
    \addplot+[domain=0.7:3.3, samples=100, smooth, name path=F] {-x^3+7*x^2-13*x+6} node[anchor=south west] {$f(x)$};
    \path[name path=axis] (axis cs:1,0) -- (axis cs:3,0);
    \addplot [thick, color=color1, fill=color1, fill opacity=0.3] fill between[of=F and axis, soft clip={domain=1:3},];
    \node at (1.5,1.5) {$\displaystyle\int_a^b |f(x)|\,dx$};
    \coordinate (O) at (0,0);
    \coordinate (A) at (1,-1);
    \coordinate (B) at (3,3);
    \draw[gray, dashed] (A) -- (A|-O);
    \draw[gray, dashed] (B) -- (B|-O);
  \end{axis};
\end{tikzpicture}
