\begingroup \toks 0={macro:-> \begin {axis}[ 3d box, width=7cm, view={25}{25}, enlargelimits=false, grid=major, domain=-0.5:4.7, y domain=-2:2, samples=21, xlabel={Longitude}, ylabel={Latitude}, zlabel={Height}, ] \addplot 3 [y domain = 0:2, surf] {-0.7+4*exp(-0.5*(x+3))*(3*cos(4*x*180/pi)+2.5*cos(2*x*180/pi)) + 0.5*y*y*4}; \addplot 3 [y domain = 0:2, contour gnuplot = {number=14, labels={false}, draw color = black}, samples = 31, ] {-0.7+4*exp(-0.5*(x+3))*(3*cos(4*x*180/pi)+2.5*cos(2*x*180/pi)) + 0.5*y*y*4}; \addplot 3 [contour gnuplot = {output point meta=rawz, number=14, labels={false},}, samples=31,z filter/.code={\def \pgfmathresult {20}}] {-0.7+4*exp(-0.5*(x+3))*(3*cos(4*x*180/pi)+2.5*cos(2*x*180/pi)) + 0.5*y*y*4}; \addplot 3 [y domain=-2:0,surf] {-0.7+4*exp(-0.5*(x+3))*(3*cos(4*x*180/pi)+2.5*cos(2*x*180/pi)) + 0.5*y*y*4}; \addplot 3 [domain = 0:0.25, contour gnuplot = {number=14,labels={false}, draw color=black}, samples=21] {-0.7+4*exp(-0.5*(x+3))*(3*cos(4*x*180/pi)+2.5*cos(2*x*180/pi)) + 0.5*y*y*4}; \end {axis} }\xdef \tikzexternallastkey {\the \toks 0 }\endgroup %
